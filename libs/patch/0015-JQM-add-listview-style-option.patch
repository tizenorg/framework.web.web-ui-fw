From 3e337ecde5c899c33befb44a4a5426b39f80c5f3 Mon Sep 17 00:00:00 2001
From: Jun Jinhyuk <jinhyuk.jun@samsung.com>
Date: Wed, 28 Nov 2012 11:18:33 +0900
Subject: [PATCH] JQM add listview style option

Signed-off-by: Jun Jinhyuk <jinhyuk.jun@samsung.com>
---
 libs/js/jquery-mobile-1.2.0/js/widgets/listview.js |   34 ++++++++++++++++++++
 1 files changed, 34 insertions(+), 0 deletions(-)

diff --git a/libs/js/jquery-mobile-1.2.0/js/widgets/listview.js b/libs/js/jquery-mobile-1.2.0/js/widgets/listview.js
index f24699b..d56a7ba 100644
--- a/libs/js/jquery-mobile-1.2.0/js/widgets/listview.js
+++ b/libs/js/jquery-mobile-1.2.0/js/widgets/listview.js
@@ -153,6 +153,34 @@ $.widget( "mobile.listview", $.mobile.widget, {
 		}
 	},
 
+	_addCheckboxRadioClasses: function( containers )
+	{
+		var i, inputAttr, len = containers.length;
+		for ( i = 0; i < len; i++ ) {
+			inputAttr = $( containers[ i ] ).find( "input" );
+			if ( inputAttr.attr( "type" ) == "checkbox" ) {
+				$( containers[ i ] ).addClass( "ui-li-has-checkbox" );
+			} else if ( inputAttr.attr( "type" ) == "radio" ) {
+				$( containers[ i ] ).addClass( "ui-li-has-radio" );
+			}
+		}
+	},
+
+	_addRightBtnClasses: function( containers )
+	{
+		var i, btnAttr, len = containers.length;
+		for ( i = 0; i < len; i++ ) {
+			btnAttr = $( containers[ i ] ).find( ":jqmData(role='button')" ) || ( $( containers[ i ] ).find( "input" ).attr( "type" ) == "button" );
+			if ( btnAttr.length ) {
+				if ( btnAttr.jqmData( "style" ) == "circle" )  {
+					$( containers[ i ] ).addClass( "ui-li-has-right-circle-btn" );
+				} else {
+					$( containers[ i ] ).addClass( "ui-li-has-right-btn" );
+				}
+			}
+		}
+	},
+
 	refresh: function( create ) {
 		this.parentPage = this.element.closest( ".ui-page" );
 		this._createSubPages();
@@ -335,6 +363,12 @@ $.widget( "mobile.listview", $.mobile.widget, {
 		this._addThumbClasses( li );
 		this._addThumbClasses( $list.find( ".ui-link-inherit" ) );
 
+		this._addCheckboxRadioClasses( li );
+		this._addCheckboxRadioClasses( $list.find( ".ui-link-inherit" ) );
+
+		this._addRightBtnClasses( li );
+		this._addRightBtnClasses( $list.find( ".ui-link-inherit" ) );
+
 		this._refreshCorners( create );
 
     // autodividers binds to this to redraw dividers after the listview refresh
-- 
1.7.4.1

