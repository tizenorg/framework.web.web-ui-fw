From 18a19ed0ee31851c720fc6b83b50adea3d91a653 Mon Sep 17 00:00:00 2001
From: Minkyu Kang <mk7.kang@samsung.com>
Date: Tue, 28 Feb 2012 10:48:14 +0900
Subject: [PATCH] JQM: Fix jqm build to exclude compressed version build

Signed-off-by: Youmin Ha <youmin.ha@samsung.com>
---
 libs/js/jquery-mobile-1.0.1pre/Makefile |   16 +++++++++-------
 1 files changed, 9 insertions(+), 7 deletions(-)

diff --git a/libs/js/jquery-mobile-1.0.1pre/Makefile b/libs/js/jquery-mobile-1.0.1pre/Makefile
index 23541cd..08bf27b 100644
--- a/libs/js/jquery-mobile-1.0.1pre/Makefile
+++ b/libs/js/jquery-mobile-1.0.1pre/Makefile
@@ -82,6 +82,7 @@ THEME = default
 # When no build target is specified, all gets ran
 all: init css js zip notify
 
+all-but-min: init js css notify
 
 # Build and minify the CSS files
 css: init
@@ -89,14 +90,14 @@ css: init
 	@@cat js/jquery.mobile.intro.js | ${VER} > ${OUTPUT}/${NAME}.css
 	@@cat ${CSSTHEMEFILES} ${CSSFILES} >> ${OUTPUT}/${NAME}.css
 	# ..... and then minify it
-	@@echo ${VER_MIN} > ${OUTPUT}/${NAME}.min.css
-	@@java -jar build/yuicompressor-2.4.6.jar --type css ${OUTPUT}/${NAME}.css >> ${OUTPUT}/${NAME}.min.css
+	#@@echo ${VER_MIN} > ${OUTPUT}/${NAME}.min.css
+	#@@java -jar build/yuicompressor-2.4.6.jar --type css ${OUTPUT}/${NAME}.css >> ${OUTPUT}/${NAME}.min.css
 	# Build the CSS Structure-only file
 	@@cat js/jquery.mobile.intro.js | ${VER} > ${OUTPUT}/${STRUCTURE}.css
 	@@cat ${CSSFILES} >> ${OUTPUT}/${STRUCTURE}.css
 	# ..... and then minify it
-	@@echo ${VER_MIN} > ${OUTPUT}/${STRUCTURE}.min.css
-	@@java -jar build/yuicompressor-2.4.6.jar --type css ${OUTPUT}/${STRUCTURE}.css >> ${OUTPUT}/${STRUCTURE}.min.css
+	#@@echo ${VER_MIN} > ${OUTPUT}/${STRUCTURE}.min.css
+	#@@java -jar build/yuicompressor-2.4.6.jar --type css ${OUTPUT}/${STRUCTURE}.css >> ${OUTPUT}/${STRUCTURE}.min.css
 	# ..... and then copy in the images
 	@@cp -R css/themes/${THEME}/images ${OUTPUT}/
 	# Css portion is complete.
@@ -137,8 +138,8 @@ js: init
 	@@cat js/jquery.mobile.intro.js | ${VER} > ${OUTPUT}/${NAME}.js
 	@@cat ${JSFILES} >> ${OUTPUT}/${NAME}.js
 	# ..... and then minify it
-	@@echo ${VER_MIN} > ${OUTPUT}/${NAME}.min.js
-	@@java -jar build/google-compiler-20111003.jar --js ${OUTPUT}/${NAME}.js --warning_level QUIET >> ${OUTPUT}/${NAME}.min.js
+	#@@echo ${VER_MIN} > ${OUTPUT}/${NAME}.min.js
+	#@@java -jar build/google-compiler-20111003.jar --js ${OUTPUT}/${NAME}.js --warning_level QUIET >> ${OUTPUT}/${NAME}.min.js
 	# -------------------------------------------------
 
 
@@ -208,4 +209,5 @@ deploy: init js css docs zip
 	@@rm -rf ${OUTPUT}
 	# -------------------------------------------------
 
-
+clean:
+	@@rm -rf ${CURDIR}/compiled
-- 
1.7.5.4

