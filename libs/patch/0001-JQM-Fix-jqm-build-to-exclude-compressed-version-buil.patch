From 58213e7b55e64ff22f29e46823714cb7bbbde841 Mon Sep 17 00:00:00 2001
From: Youmin Ha <youmin.ha@samsung.com>
Date: Wed, 15 Feb 2012 17:42:51 +0900
Subject: [PATCH] JQM: Fix jqm build to exclude compressed version build

---
 libs/js/jquery-mobile-1.0.1pre/Makefile |   22 ++++++++++++----------
 1 files changed, 12 insertions(+), 10 deletions(-)

diff --git a/libs/js/jquery-mobile-1.0.1pre/Makefile b/libs/js/jquery-mobile-1.0.1pre/Makefile
index 23541cd..5db7772 100644
--- a/libs/js/jquery-mobile-1.0.1pre/Makefile
+++ b/libs/js/jquery-mobile-1.0.1pre/Makefile
@@ -82,21 +82,22 @@ THEME = default
 # When no build target is specified, all gets ran
 all: init css js zip notify
 
+all-but-min: init js css notify
 
 # Build and minify the CSS files
 css: init
 	# Build the CSS file with the theme included
 	@@cat js/jquery.mobile.intro.js | ${VER} > ${OUTPUT}/${NAME}.css
 	@@cat ${CSSTHEMEFILES} ${CSSFILES} >> ${OUTPUT}/${NAME}.css
-	# ..... and then minify it
-	@@echo ${VER_MIN} > ${OUTPUT}/${NAME}.min.css
-	@@java -jar build/yuicompressor-2.4.6.jar --type css ${OUTPUT}/${NAME}.css >> ${OUTPUT}/${NAME}.min.css
+	## ..... and then minify it
+	#@@echo ${VER_MIN} > ${OUTPUT}/${NAME}.min.css
+	#@@java -jar build/yuicompressor-2.4.6.jar --type css ${OUTPUT}/${NAME}.css >> ${OUTPUT}/${NAME}.min.css
 	# Build the CSS Structure-only file
 	@@cat js/jquery.mobile.intro.js | ${VER} > ${OUTPUT}/${STRUCTURE}.css
 	@@cat ${CSSFILES} >> ${OUTPUT}/${STRUCTURE}.css
-	# ..... and then minify it
-	@@echo ${VER_MIN} > ${OUTPUT}/${STRUCTURE}.min.css
-	@@java -jar build/yuicompressor-2.4.6.jar --type css ${OUTPUT}/${STRUCTURE}.css >> ${OUTPUT}/${STRUCTURE}.min.css
+	## ..... and then minify it
+	#@@echo ${VER_MIN} > ${OUTPUT}/${STRUCTURE}.min.css
+	#@@java -jar build/yuicompressor-2.4.6.jar --type css ${OUTPUT}/${STRUCTURE}.css >> ${OUTPUT}/${STRUCTURE}.min.css
 	# ..... and then copy in the images
 	@@cp -R css/themes/${THEME}/images ${OUTPUT}/
 	# Css portion is complete.
@@ -136,9 +137,9 @@ js: init
 	# Build the JavaScript file
 	@@cat js/jquery.mobile.intro.js | ${VER} > ${OUTPUT}/${NAME}.js
 	@@cat ${JSFILES} >> ${OUTPUT}/${NAME}.js
-	# ..... and then minify it
-	@@echo ${VER_MIN} > ${OUTPUT}/${NAME}.min.js
-	@@java -jar build/google-compiler-20111003.jar --js ${OUTPUT}/${NAME}.js --warning_level QUIET >> ${OUTPUT}/${NAME}.min.js
+	## ..... and then minify it
+	#@@echo ${VER_MIN} > ${OUTPUT}/${NAME}.min.js
+	#@@java -jar build/google-compiler-20111003.jar --js ${OUTPUT}/${NAME}.js --warning_level QUIET >> ${OUTPUT}/${NAME}.min.js
 	# -------------------------------------------------
 
 
@@ -208,4 +209,5 @@ deploy: init js css docs zip
 	@@rm -rf ${OUTPUT}
 	# -------------------------------------------------
 
-
+clean:
+	@@rm -rf ${CURDIR}/compiled
-- 
1.7.4.1

