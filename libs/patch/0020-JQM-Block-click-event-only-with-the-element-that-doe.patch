From ac56c1f0e6620cbd83127b2ca3192723dcf50d56 Mon Sep 17 00:00:00 2001
From: Youmin Ha <youmin.ha@samsung.com>
Date: Sat, 8 Sep 2012 22:43:29 +0900
Subject: [PATCH] JQM: Block click event only with the element that does preventDefault on vclick

Signed-off-by: Youmin Ha <youmin.ha@samsung.com>
---
 .../jquery-mobile-1.1.0/js/jquery.mobile.vmouse.js |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/libs/js/jquery-mobile-1.1.0/js/jquery.mobile.vmouse.js b/libs/js/jquery-mobile-1.1.0/js/jquery.mobile.vmouse.js
index b608460..8d7d9a2 100644
--- a/libs/js/jquery-mobile-1.1.0/js/jquery.mobile.vmouse.js
+++ b/libs/js/jquery-mobile-1.1.0/js/jquery.mobile.vmouse.js
@@ -300,6 +300,7 @@ function handleTouchEnd( event ) {
 			t = getNativeEvent( event ).changedTouches[ 0 ];
 			clickBlockList.push({
 				touchID: lastTouchID,
+				target: event.target,
 				x: t.clientX,
 				y: t.clientY
 			});
@@ -494,7 +495,7 @@ if ( eventCaptureSupported ) {
 					o = clickBlockList[ i ];
 					touchID = 0;
 
-					if ( ( ele === target && Math.abs( o.x - x ) < threshold && Math.abs( o.y - y ) < threshold ) ||
+					if ( ( ele === target && target === o.target && Math.abs( o.x - x ) < threshold && Math.abs( o.y - y ) < threshold ) ||
 								$.data( ele, touchTargetPropertyName ) === o.touchID ) {
 						// XXX: We may want to consider removing matches from the block list
 						//      instead of waiting for the reset timer to fire.
-- 
1.7.9.5

