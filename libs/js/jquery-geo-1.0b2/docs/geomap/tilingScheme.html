<!doctype html>  

<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">

  <title>tilingScheme | geomap</title>
  <meta name="description" content="geomap tilingScheme property">
  <meta name="author" content="Ryan Westphal">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="../css/style.css?v=2">
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
</head>

<body>

  <div id="tilingScheme" data-role="page">
    <div data-role="header" data-theme="f">
      <h1>tilingScheme</h1>
    </div>
    
    <div data-role="content">
      <table>
        <tr>
          <th>type</th>
          <td>Object</td>
        </tr>
        <tr>
          <th>default</th>
          <td><pre><code>{
  tileWidth: 256,
  tileHeight: 256,
  levels: 18,
  basePixelSize: 156543.03392799936,
  pixelSizes: null,
  origin: [ -20037508.342787, 20037508.342787 ]
}</code></pre></td>
        </tr>
        <tr>
          <th>init</th>
          <td><code><pre>$( <i>selector</i> ).geomap( { tilingScheme: {
  tileWidth: 256,
  tileHeight: 256,
  levels: 18,
  basePixelSize: 156543.03392799936,
  pixelSizes: null,
  origin: [ -20037508.342787, 20037508.342787 ]
} } );</pre></code></td>
        </tr>
        <tr>
          <th>get</th>
          <td><code><pre>var tilingScheme = $( <i>selector</i> ).geomap( &quot;option&quot;, &quot;tilingScheme&quot; );</pre></code></td>
        </tr>
        <tr>
          <th>set</th>
          <td><code><pre>$( <i>selector</i> ).geomap( &quot;option&quot;, &quot;tilingScheme&quot;, null );</pre></code></td>
        </tr>
      </table>

      <p>The tilingScheme property defines a grid that the geomap widget can use to build a map view as adjacent tiles instead of a single, full image each time.</p>

      <p>Only tiled services will get a non-null tile property as an argument to their src method or template. Shingled services, even when layered on top of a tiled map will only get bbox data.</p>

      <p>When a tilingScheme is set, the geomap widget will limit the user to specific zoom levels defined by the tiling scheme.</p>

      <p><b>If you set tilingScheme to null, you must explicitly set <a href="bboxMax.html">bboxMax</a>.</b></p>

      <p><b>Also, if you are using only shingled services you must set tilingScheme to null, and therefore explicitly set bboxMax.</b></p>

      <p>You can set the map widget to be fully dynamic and allow any arbitrary zoom level by setting the tilingScheme to null. This is only useful if all of your services are backed by live spatial data and can produce map images at any scale.</p>

      <p>This is one of the few places where you must use non-geodetic (i.e., non-lon/lat) units even if you are using longitude &amp; latitude for properties such as center or bbox. You must use projected units when defining a tiling scheme. The default map tiles use web mercator meters.</p>

      <p>All tilingScheme objects have the first three of the following properties. Apart from those, a tilingScheme object must have either <b>just</b> the pixelSizes property or <b>both</b> basePixelSize &amp; levels.</p>

      <table>
        <tr><th>tileWidth (Number)</th><td>the width in pixels of a single tile</td></tr>
        <tr><th>tileHeight (Number)</th><td>the height in pixels of a single tile</td></tr>
        <tr><th>origin (Array&lt;Number&gt;)</th><td>a <a href="http://geojson.org/geojson-spec.html#positions" rel="external">GeoJSON position</a> for the top-left corner of the map tiles in map units, this is used to correctly position tiles into the map view</td></tr>
        <tr><th>pixelSizes (Array&lt;Number&gt;)</th><td>an array of all pixel sizes (called resolutions on Esri's products) hosted by the map service, each one represents a zoom level therefore the total number of zoom levels equals the length of the pixelSizes array</td></tr>
        <tr><th>basePixelSize (Number)</th><td>the pixelSize represented by the tiles on zoom level 0, used when each pixelSize is a power of two smaller than the previous one</td></tr>
        <tr><th>levels (Number)</th><td>the total number of pixelSizes allowed, used in conjuction with basePixelSize to determine how far a user is allowed to zoom</td></tr>
      </table>
    </div>
  </div> <!-- end of #container -->

  <script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0b1.min.js"></script>
  <script src="../js/script.js"></script>
  <script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>
</body>
</html>

