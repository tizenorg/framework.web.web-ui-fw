<!DOCTYPE html>
<html>
<head>
  <title>geomap remove test</title>
  <link rel="stylesheet" type="text/css" href="css/style.css" />
  <style type="text/css">
    .geomap
    {
      display: inline-block;
      position: relative;
      width: 640px;
      height: 480px;
    }

    #point-list
    {
      display: inline-block;
      list-style-type: none;
    }
  </style>
</head>
<body>
  <a href="../" class="docLink">&lt; docs</a>
  <h1>geomap remove test</h1>
  <p>Click on the buttons to the right to call geomap.remove on points one at a time.</p>
  <div class="geomap">
  </div>
  <ul id="point-list"></ul>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script src="http://code.jquerygeo.com/jquery.geo-1.0a4.min.js"></script>
  <script>
    $(function () {
      var geomap = $(".geomap").geomap({
        center: [-71.05, 42.35],
        zoom: 13
      });

      var points = {
        one: { type: "Point", coordinates: [-71.05, 42.35] },
        two: { type: "Point", coordinates: [-71.045, 42.355] },
        three: { type: "Point", coordinates: [-71.055, 42.345] },
        four: { type: "Point", coordinates: [-71.055, 42.355] },
        five: { type: "Point", coordinates: [-71.045, 42.345] }
      };

      var buttons = "";

      for (var pointKey in points) {
        geomap.geomap("append", points[pointKey]);
        buttons += '<li><button type="button" data-point-key="' + pointKey + '">' + points[pointKey].coordinates + '</button></li>';
      }
      $("#point-list").append(buttons);

      $("#point-list button").click(function () {
        var pointKey = $(this).data("pointKey");
        $(".geomap").geomap("remove", points[pointKey]);
        $(this).remove();
      });
    });
  </script>
</body>
</html>
