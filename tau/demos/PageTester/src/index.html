<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="../lib/tau/mobile/js/tau.js" data-build-remove="false"></script>
	<link rel="stylesheet" href="../lib/tau/mobile/theme/changeable/tau.css">
	<link rel="stylesheet" href="css/style.css">
	<script src="../lib/jquery.js"></script>
	<script src="./js/main.js"></script>
	<title>PageTester</title>
	<script>
		function searchGold() {
			var options = {
				type: 'get',
				data: 's=looking-for-gold'
			};
			tau.changePage('#gold-page', options);
		}
	</script>
</head>
<body>
	<!-- MAIN -->
	<div data-role="page" id="main">
		<div data-role="header" data-position="fixed">
			<h1>Main page</h1>
		</div>
		<div data-role="content">
			<ul data-role="listview">

				<li data-role="list-divider">Internal pages - link</li>
				<li><a href="#yellow-page">Yellow page</a></li>
				<li><a href="#gold-page">Gold page</a></li>
				<li onClick="searchGold()">Search Gold</li>

				<li data-role="list-divider">Internal pages - pageChange</li>
				<li onClick="tau.changePage('#green-page')">Green page</li>
				<li onClick="tau.changePage('#purple-page')"><a href="#purple-page">Purple page</a></li>

				<li data-role="list-divider">External pages</li>
				<li><a href="external-pages/external-page.html?s=aa">External page - link</a></li>
				<li onClick="tau.changePage('external-pages/external-page.html')">External page - changePage</li>

				<li data-role="list-divider">Popups</li>
				<li><a href="#popup">Popup basic - link</a></li>
				<li onClick="tau.openPopup('#popup')">Popup basic - openPopup</li>

				<li data-role="list-divider">Dialogs</li>
				<li><a href="#dialogPage" data-rel="dialog">Dialog basic - link</a></li>
				<li onClick="tau.openPopup('#dialogPage')">Dialog basic - openPopup</li>
			</ul>
		</div>
		<div id="popup" data-role="popup">
			<p>This is a completely basic popup, no options set.</p>
		</div>
		<div data-role="dialog" id="dialogPage">
			<div data-role="header">
				<h2>Dialog</h2>
			</div>
			<div data-role="content" class="ui-content">
				<p>I am a dialog</p>
			</div>
		</div>
	</div>
	<!-- YELLOW -->
	<div data-role="page" id="yellow-page">
		<div data-role="header" data-position="fixed">
			<h1>This is Yellow Page</h1>
		</div>
		<div data-role="content">
			<ul data-role="listview">
				<li><a href="#gold-page">Looking for gold?</a></li>
				<li><a href="#main">Jump to main page</a></li>
			</ul>
		</div>
	</div>
	<!-- GOLD -->
	<div data-role="page" id="gold-page">
		<div data-role="header" data-position="fixed">
			<h1>Gold page</h1>
		</div>
		<div data-role="content">
			<ul data-role="listview">
				<li><a href="#yellow-page">Navigate to yellow page</a></li>
				<li><a href="#main">Jump to main page</a></li>
			</ul>
		</div>
	</div>
	<!-- GREEN -->
	<div data-role="page" id="green-page">
		<div data-role="header" data-position="fixed">
			<h1>Green page</h1>
		</div>
		<div data-role="content">
			<ul data-role="listview">
				<li onClick="tau.changePage('#purple-page')"><a href="#purple-page">Purple page</a></li>
				<li onClick="tau.changePage('#main')"><a href="#purple-page">Back to Main Page</a></li>
			</ul>
		</div>
	</div>
	<!-- PURPLE -->
	<div data-role="page" id="purple-page">
		<div data-role="header" data-position="fixed">
			<h1>Green page</h1>
		</div>
		<div data-role="content">
			<ul data-role="listview">
				<li onClick="tau.changePage('#green-page')"><a href="#green-page">Green page</a></li>
				<li onClick="tau.changePage('#main')"><a href="#purple-page">Back to Main Page</a></li>
			</ul>
		</div>
	</div>

	<div data-role="page" id="popup-page">
		<div data-role="header" data-position="fixed">
			<h1>Page with popups</h1>
		</div>
		<div data-role="content">
			<ul data-role="listview">
				<li><a href="#gold-page">Looking for gold?</a></li>
				<li><a href="#main">Jump to main page</a></li>
			</ul>
		</div>
	</div>

	<script>
		$('[data-role="page"]').on('pageshow', function(event) {
			var dataUrl = event.currentTarget.getAttribute('data-url');
			console.log('Navigated to:', dataUrl);

			if (dataUrl === '#gold-page?s=looking-for-gold') {
				alert("There is no gold...");
			}

			//bind callbacks to the H/W keys
			$( window ).on( "tizenhwkey" , function( e ) {
				if ( e.originalEvent.keyName == "back"
					&& window.tizen
					&& window.tizen.application ) {
					window.tizen.application.getCurrentApplication().exit();
					return false;
				}
			} );
		} );
		$('[data-role="page"]').on( "pagebeforehide" , function(event) {
			//unbind callbacks to the H/W keys
			$( window ).off( "tizenhwkey" );
			console.log('Hide:',event.currentTarget.getAttribute('data-url'));
		} );
	</script>
</body>
</html>
