<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="../lib/tau/wearable/js/tau.js" data-build-remove="false"></script>
	<link rel="stylesheet" href="../lib/tau/wearable/theme/changeable/tau.css">
	<link rel="stylesheet" href="css/style.css">
	<script src="../lib/jquery.js"></script>
	<script src="./js/main.js"></script>
	<title>PageTester</title>
	<script>
		function searchGold() {
			var options = {
				type: 'get',
				data: 's=looking-for-gold'
			};
			tau.changePage('#gold-page', options);
		}
	</script>
	<style>
		.ui-listview .ui-list-divider {
			font-size: 1.5rem;
			color: orange;
			line-height: 1.7rem;
			min-height: 1.5rem;
		}

		#yellow-page .ui-listview li > *, #gold-page .ui-listview li > * {
			color: black;
		}
	</style>
</head>
<body>
	<!-- MAIN -->
	<div class="ui-page" id="main">
		<div class="ui-header" data-position="fixed">
			<h2 class="ui-title">Main page</h2>
		</div>
		<div class="ui-content">
			<ul class="ui-listview">

				<li class="ui-list-divider">Internal pages - link</li>
				<li><a href="#yellow-page">Yellow page</a></li>
				<li><a href="#gold-page">Gold page</a></li>
				<li onClick="searchGold()">Search Gold</li>

				<li class="ui-list-divider">Internal pages - pageChange</li>
				<li onClick="tau.changePage('#green-page')">Green page</li>
				<li onClick="tau.changePage('#purple-page')"><a href="#purple-page">Purple page</a></li>

				<li class="ui-list-divider">External pages</li>
				<li><a href="external-pages/external-page.html?s=aa">External page - link</a></li>
				<li onClick="tau.changePage('external-pages/external-page.html')">External page - changePage</li>

				<li class="ui-list-divider">Popups</li>
				<li><a href="#popup">Popup basic - link</a></li>
				<li onClick="tau.openPopup('#popup')">Popup basic - openPopup</li>

			</ul>
		</div>
		<div id="popup" class="ui-popup">
			<p>This is a completely basic popup, no options set.</p>
		</div>
	</div>
	<!-- YELLOW -->
	<div class="ui-page" id="yellow-page">
		<div class="ui-header" data-position="fixed">
			<h2 class="ui-title">This is Yellow Page</h2>
		</div>
		<div class="ui-content">
			<ul class="ui-listview">
				<li><a href="#gold-page">Looking for gold?</a></li>
				<li><a href="#main">Jump to main page</a></li>
			</ul>
		</div>
	</div>
	<!-- GOLD -->
	<div class="ui-page" id="gold-page">
		<div class="ui-header" data-position="fixed">
			<h2 class="ui-title">Gold page</h2>
		</div>
		<div class="ui-content">
			<ul class="ui-listview">
				<li><a href="#yellow-page">Navigate to yellow page</a></li>
				<li><a href="#main">Jump to main page</a></li>
			</ul>
		</div>
	</div>
	<!-- GREEN -->
	<div class="ui-page" id="green-page">
		<div class="ui-header" data-position="fixed">
			<h2 class="ui-title">Green page</h2>
		</div>
		<div class="ui-content">
			<ul class="ui-listview">
				<li onClick="tau.changePage('#purple-page')"><a href="#purple-page">Purple page</a></li>
				<li onClick="tau.changePage('#main')"><a href="#purple-page">Back to Main Page</a></li>
			</ul>
		</div>
	</div>
	<!-- PURPLE -->
	<div class="ui-page" id="purple-page">
		<div class="ui-header" data-position="fixed">
			<h2 class="ui-title">Green page</h2>
		</div>
		<div class="ui-content">
			<ul class="ui-listview">
				<li onClick="tau.changePage('#green-page')"><a href="#green-page">Green page</a></li>
				<li onClick="tau.changePage('#main')"><a href="#purple-page">Back to Main Page</a></li>
			</ul>
		</div>
	</div>

	<div class="ui-page" id="popup-page">
		<div class="ui-header" data-rodata-position="fixed">
			<h2 class="ui-title">Page with popups</h2>
		</div>
		<div class="ui-content">
			<ul class="ui-listview">
				<li><a href="#gold-page">Looking for gold?</a></li>
				<li><a href="#main">Jump to main page</a></li>
			</ul>
		</div>
	</div>

	<script>
		$('.ui-page').on('pageshow', function(event) {
			var dataUrl = event.currentTarget.getAttribute('data-url');
			console.log('Navigated to:', dataUrl);

			if (dataUrl === '#gold-page?s=looking-for-gold') {
				alert("There is no gold...");
			}

			//bind callbacks to the H/W keys
			$( window ).on( "tizenhwkey" , function( e ) {
				if ( e.originalEvent.keyName == "back"
					&& window.tizen
					&& window.tizen.application ) {
					window.tizen.application.getCurrentApplication().exit();
					return false;
				}
			} );
		} );
		$('.ui-page').on( "pagebeforehide" , function(event) {
			//unbind callbacks to the H/W keys
			$( window ).off( "tizenhwkey" );
			console.log('Hide:',event.currentTarget.getAttribute('data-url'));
		} );
	</script>
</body>
</html>
