<!DOCTYPE html>
<html>
	<head>
		<title>ej.util.data</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" href="../../../../libs/qunit-1.11.0.css">
		<script src="../../../../libs/jquery.js"></script>
		<script src="../../../../libs/qunit-1.11.0.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="qunit"></div>
		<div id="qunit-fixture">
			<div id="test1"></div>
			<div id="test2"></div>
			<div id="test3"></div>
		</div>
		<script src="../../../../libs/support.js"></script>
		<script src="../../../../libs/dist/js/tau.js" type="text/javascript"></script>

		<script type="text/javascript">
			var e1 = document.getElementById("test1"),
				e2 = document.getElementById("test2"),
				e3 = document.getElementById("test3"),
				testData1 = {
					"foobar": 1
				},
				testData2 = {
					"foobar": 2
				},
				dataUtils = ej.util.data;

			test("ej.util.data", function () {
				equal(testData1, dataUtils.set(e1, "testData", testData1), "setting data to element 1");
				equal(testData2, dataUtils.set(e2, "testData", testData2), "setting data to element 2");
				equal(dataUtils.get(e1, "testData"), dataUtils.set(e3, "testData", dataUtils.get(e1, "testData")), "data reference check");
				equal(testData2, dataUtils.set(1, "testData", testData2), "setting data to numeric key");
				equal(testData2, dataUtils.set("stringKey", "testData", testData2), "setting data to string key");

				equal(testData1, dataUtils.get(e1, "testData"), "getting data to element 1");
				equal(testData2, dataUtils.get(e2, "testData"), "getting data to element 2");
				equal(dataUtils.get(e1, "testData"), dataUtils.get(e3, "testData"), "data reference check");
				equal(testData2, dataUtils.get(1, "testData"), "getting data to numeric key");
				equal(testData2, dataUtils.get("stringKey", "testData"), "getting data to string key");

				dataUtils.remove(e1, "testData");
				dataUtils.remove(e2, "testData");
				dataUtils.remove(e3, "testData");
				dataUtils.remove(1, "testData");
				dataUtils.remove("stringKey", "testData");

				equal("undefined", typeof dataUtils.get(e1, "testData"), "removed data from element 1");
				equal("undefined", typeof dataUtils.get(e2, "testData"), "removed data from element 2");
				equal("undefined", typeof dataUtils.get(e3, "testData"), "removed data from element 4");
				equal("undefined", typeof dataUtils.get(1, "testData"), "removed data from numeric key");
				equal("undefined", typeof dataUtils.get("stringKey", "testData"), "removed data from string key");
			});
		</script>
	</body>
</html>
